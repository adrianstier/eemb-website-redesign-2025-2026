# EEMB Website - Repository Organization & Development Guide
## Structured for Multiple Claude Code Sessions & Team Collaboration

**Version:** 2.0
**Purpose:** Enable iterative development across many Claude sessions with clear context, organization, and consistency

---

## Philosophy: Each Session Should Be Self-Contained

**Key Principle:** Any developer (or Claude Code session) should be able to:
1. Read PROJECT_CONTEXT.md
2. Understand current state
3. Pick up a task
4. Complete it
5. Document what was done
6. Commit and move on

**This means:**
- âœ… Clear directory structure
- âœ… Comprehensive documentation at every level
- âœ… README files in every major directory
- âœ… Consistent naming conventions
- âœ… Version control discipline
- âœ… Testing at every layer

---

## Complete Repository Structure

```
eemb-website/
â”œâ”€â”€ ðŸ“„ README.md                          # Project overview, quick start
â”œâ”€â”€ ðŸ“„ PROJECT_CONTEXT.md                 # **CRITICAL** - Claude session memory
â”œâ”€â”€ ðŸ“„ CHANGELOG.md                       # Track all major changes
â”œâ”€â”€ ðŸ“„ .gitignore                         # Git ignore patterns
â”œâ”€â”€ ðŸ“„ .env.example                       # Environment variables template
â”œâ”€â”€ ðŸ“„ Makefile                           # Common commands (make dev, make test, make deploy)
â”œâ”€â”€ ðŸ“„ docker-compose.yml                 # Local development stack
â”œâ”€â”€ ðŸ“„ package.json                       # Root workspace scripts
â”‚
â”œâ”€â”€ ðŸ“ docs/                              # **ALL DOCUMENTATION**
â”‚   â”œâ”€â”€ ðŸ“„ README.md                      # Documentation index
â”‚   â”œâ”€â”€ ðŸ“ architecture/
â”‚   â”‚   â”œâ”€â”€ ARCHITECTURE_OVERVIEW.md
â”‚   â”‚   â”œâ”€â”€ DATABASE_SCHEMA.md
â”‚   â”‚   â”œâ”€â”€ API_DESIGN.md
â”‚   â”‚   â””â”€â”€ TECH_STACK_DECISIONS.md
â”‚   â”œâ”€â”€ ðŸ“ admin/
â”‚   â”‚   â”œâ”€â”€ ADMIN_HANDBOOK.md             # For Andi (content manager)
â”‚   â”‚   â”œâ”€â”€ ADMIN_QUICK_START.md
â”‚   â”‚   â”œâ”€â”€ CONTENT_WORKFLOWS.md
â”‚   â”‚   â””â”€â”€ TROUBLESHOOTING.md
â”‚   â”œâ”€â”€ ðŸ“ content/
â”‚   â”‚   â”œâ”€â”€ CONTENT_STYLE_GUIDE.md
â”‚   â”‚   â”œâ”€â”€ WRITING_GUIDELINES.md
â”‚   â”‚   â”œâ”€â”€ IMAGE_SPECIFICATIONS.md
â”‚   â”‚   â””â”€â”€ SEO_BEST_PRACTICES.md
â”‚   â”œâ”€â”€ ðŸ“ developer/
â”‚   â”‚   â”œâ”€â”€ SETUP_GUIDE.md
â”‚   â”‚   â”œâ”€â”€ DEVELOPMENT_WORKFLOW.md
â”‚   â”‚   â”œâ”€â”€ TESTING_GUIDE.md
â”‚   â”‚   â”œâ”€â”€ DEPLOYMENT_GUIDE.md
â”‚   â”‚   â””â”€â”€ CODE_CONVENTIONS.md
â”‚   â”œâ”€â”€ ðŸ“ api/
â”‚   â”‚   â”œâ”€â”€ API_REFERENCE.md              # Complete API docs
â”‚   â”‚   â”œâ”€â”€ ENDPOINTS.md
â”‚   â”‚   â”œâ”€â”€ AUTHENTICATION.md
â”‚   â”‚   â””â”€â”€ EXAMPLES.md
â”‚   â””â”€â”€ ðŸ“ legal/
â”‚       â”œâ”€â”€ PRIVACY_POLICY.md
â”‚       â”œâ”€â”€ ACCESSIBILITY_STATEMENT.md
â”‚       â””â”€â”€ PHOTO_RELEASE_POLICY.md
â”‚
â”œâ”€â”€ ðŸ“ backend/                           # **STRAPI CMS**
â”‚   â”œâ”€â”€ ðŸ“„ README.md                      # Backend-specific setup/info
â”‚   â”œâ”€â”€ ðŸ“„ package.json
â”‚   â”œâ”€â”€ ðŸ“„ tsconfig.json
â”‚   â”œâ”€â”€ ðŸ“„ .env.example
â”‚   â”‚
â”‚   â”œâ”€â”€ ðŸ“ config/                        # Strapi configuration
â”‚   â”‚   â”œâ”€â”€ database.ts
â”‚   â”‚   â”œâ”€â”€ server.ts
â”‚   â”‚   â”œâ”€â”€ admin.ts
â”‚   â”‚   â”œâ”€â”€ plugins.ts                    # Cloudinary, email, etc.
â”‚   â”‚   â””â”€â”€ middlewares.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ ðŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ðŸ“„ index.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ðŸ“ api/                       # Content types (auto-generated by Strapi)
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ faculty/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ content-types/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ faculty/
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ schema.json   # Content type definition
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ lifecycles.ts # Hooks (auto-slug, etc.)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ controllers/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ faculty.ts        # Custom endpoints
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ routes/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ faculty.ts        # Custom routes
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“ services/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ faculty.ts        # Business logic
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ alumni/                # Same structure as faculty
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ staff/
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ graduate-student/
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ news-item/
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ event/
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ in-memoriam/
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ alumni-spotlight/
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ research-area/
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ lab/
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ form-submission/
â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“ dei-committee/
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ðŸ“ extensions/                # Customize built-in features
â”‚   â”‚   â”‚   â””â”€â”€ users-permissions/
â”‚   â”‚   â”‚       â””â”€â”€ strapi-server.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ðŸ“ plugins/                   # Custom plugins
â”‚   â”‚   â”‚   â””â”€â”€ bulk-operations/          # Bulk import/export
â”‚   â”‚   â”‚       â”œâ”€â”€ admin/                # Admin UI
â”‚   â”‚   â”‚       â””â”€â”€ server/               # Server logic
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ðŸ“ middlewares/               # Custom middleware
â”‚   â”‚       â”œâ”€â”€ rate-limit.ts
â”‚   â”‚       â””â”€â”€ security-headers.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ ðŸ“ database/
â”‚   â”‚   â”œâ”€â”€ ðŸ“ migrations/                # Database migration files
â”‚   â”‚   â”‚   â”œâ”€â”€ 001_initial_schema.sql
â”‚   â”‚   â”‚   â”œâ”€â”€ 002_add_alumni.sql
â”‚   â”‚   â”‚   â””â”€â”€ 003_add_alumni_spotlights.sql
â”‚   â”‚   â””â”€â”€ ðŸ“ seeds/                     # Test data
â”‚   â”‚       â”œâ”€â”€ faculty.seed.ts
â”‚   â”‚       â”œâ”€â”€ research-areas.seed.ts
â”‚   â”‚       â””â”€â”€ test-users.seed.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ ðŸ“ public/
â”‚   â”‚   â””â”€â”€ uploads/                      # Local file uploads (dev only, prod uses Cloudinary)
â”‚   â”‚
â”‚   â””â”€â”€ ðŸ“ tests/
â”‚       â”œâ”€â”€ ðŸ“ unit/
â”‚       â”œâ”€â”€ ðŸ“ integration/
â”‚       â””â”€â”€ ðŸ“ e2e/
â”‚
â”œâ”€â”€ ðŸ“ frontend/                          # **NEXT.JS APPLICATION**
â”‚   â”œâ”€â”€ ðŸ“„ README.md                      # Frontend-specific info
â”‚   â”œâ”€â”€ ðŸ“„ package.json
â”‚   â”œâ”€â”€ ðŸ“„ tsconfig.json
â”‚   â”œâ”€â”€ ðŸ“„ next.config.js
â”‚   â”œâ”€â”€ ðŸ“„ tailwind.config.js
â”‚   â”œâ”€â”€ ðŸ“„ .env.local.example
â”‚   â”‚
â”‚   â”œâ”€â”€ ðŸ“ public/
â”‚   â”‚   â”œâ”€â”€ ðŸ“ images/
â”‚   â”‚   â”‚   â”œâ”€â”€ logo.svg
â”‚   â”‚   â”‚   â”œâ”€â”€ hero-default.jpg
â”‚   â”‚   â”‚   â””â”€â”€ placeholders/
â”‚   â”‚   â””â”€â”€ ðŸ“ assets/
â”‚   â”‚       â”œâ”€â”€ ucsb-logo.svg
â”‚   â”‚       â””â”€â”€ icons/
â”‚   â”‚
â”‚   â”œâ”€â”€ ðŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ðŸ“ app/                       # Next.js 14 App Router
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“„ layout.tsx             # Root layout
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“„ page.tsx               # Homepage
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“„ not-found.tsx          # 404 page
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“„ error.tsx              # Error boundary
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ people/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“„ page.tsx           # People landing
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ faculty/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“„ page.tsx       # Faculty directory
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“„ loading.tsx    # Loading skeleton
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“ [slug]/
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ ðŸ“„ page.tsx   # Individual faculty
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ alumni/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“„ page.tsx       # Alumni directory
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ spotlights/
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“„ page.tsx   # Spotlight list
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“ [slug]/
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ ðŸ“„ page.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“ [slug]/
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ ðŸ“„ page.tsx   # Individual alumni
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ staff/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“„ page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ students/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“„ page.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“ in-memoriam/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ ðŸ“„ page.tsx       # Memorial directory
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ ðŸ“ [slug]/
â”‚   â”‚   â”‚   â”‚           â””â”€â”€ ðŸ“„ page.tsx   # Individual memorial
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ research/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“„ page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ [area]/            # ecology, evolution, marine-biology
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“„ page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ labs/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“„ page.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“ field-sites/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ ðŸ“„ page.tsx
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ programs/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“„ page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ graduate/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“„ page.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ phd/
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“„ page.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“ ms/
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ ðŸ“„ page.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“ undergraduate/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ ðŸ“„ page.tsx
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ news/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“„ page.tsx           # News feed
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“ [slug]/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ ðŸ“„ page.tsx       # Individual article
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ events/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“„ page.tsx           # Events calendar
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“ [slug]/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ ðŸ“„ page.tsx
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ about/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“„ page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ dei/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“„ page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ history/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“„ page.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“ facilities/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ ðŸ“„ page.tsx
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ contact/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“„ page.tsx
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ give/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“„ page.tsx
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ legal/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“„ privacy/page.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“„ accessibility/page.tsx
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“ api/                   # API routes (if needed)
â”‚   â”‚   â”‚       â””â”€â”€ ðŸ“ contact/
â”‚   â”‚   â”‚           â””â”€â”€ ðŸ“„ route.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ðŸ“ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“„ README.md              # Component documentation
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ ui/                    # Shadcn/ui components
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dialog.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dropdown-menu.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ input.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ select.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ layout/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Navigation.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MobileMenu.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Footer.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CookieConsent.tsx
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ cards/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FacultyCard.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AlumniCard.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ NewsCard.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EventCard.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LabCard.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MemorialCard.tsx
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ features/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FacultyDirectory.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AlumniDirectory.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ NewsFilter.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EventCalendar.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SearchBar.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ContactForm.tsx
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“ common/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Hero.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ImageWithFallback.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Breadcrumbs.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Pagination.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoadingSpinner.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ErrorMessage.tsx
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ ðŸ“ filters/
â”‚   â”‚   â”‚       â”œâ”€â”€ FilterPanel.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ ResearchAreaFilter.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ YearFilter.tsx
â”‚   â”‚   â”‚       â””â”€â”€ CategoryFilter.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ðŸ“ lib/
â”‚   â”‚   â”‚   â”œâ”€â”€ ðŸ“„ README.md
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts                    # Strapi API client
â”‚   â”‚   â”‚   â”œâ”€â”€ types.ts                  # TypeScript interfaces
â”‚   â”‚   â”‚   â”œâ”€â”€ utils.ts                  # Helper functions
â”‚   â”‚   â”‚   â”œâ”€â”€ constants.ts              # App constants
â”‚   â”‚   â”‚   â”œâ”€â”€ formatters.ts             # Date/text formatters
â”‚   â”‚   â”‚   â””â”€â”€ validators.ts             # Form validation
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ðŸ“ styles/
â”‚   â”‚   â”‚   â”œâ”€â”€ globals.css               # Global styles + Tailwind
â”‚   â”‚   â”‚   â”œâ”€â”€ theme.ts                  # Theme configuration
â”‚   â”‚   â”‚   â””â”€â”€ typography.css            # Typography styles
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ðŸ“ hooks/
â”‚   â”‚       â”œâ”€â”€ useDebounce.ts
â”‚   â”‚       â”œâ”€â”€ useMediaQuery.ts
â”‚   â”‚       â”œâ”€â”€ useLocalStorage.ts
â”‚   â”‚       â””â”€â”€ useFaculty.ts             # Custom data hooks
â”‚   â”‚
â”‚   â””â”€â”€ ðŸ“ tests/
â”‚       â”œâ”€â”€ ðŸ“„ README.md
â”‚       â”œâ”€â”€ ðŸ“ unit/
â”‚       â”‚   â”œâ”€â”€ components/
â”‚       â”‚   â”‚   â”œâ”€â”€ FacultyCard.test.tsx
â”‚       â”‚   â”‚   â””â”€â”€ NewsCard.test.tsx
â”‚       â”‚   â””â”€â”€ lib/
â”‚       â”‚       â”œâ”€â”€ api.test.ts
â”‚       â”‚       â””â”€â”€ utils.test.ts
â”‚       â”œâ”€â”€ ðŸ“ integration/
â”‚       â”‚   â”œâ”€â”€ faculty-directory.test.tsx
â”‚       â”‚   â””â”€â”€ news-feed.test.tsx
â”‚       â””â”€â”€ ðŸ“ e2e/
â”‚           â”œâ”€â”€ homepage.spec.ts
â”‚           â”œâ”€â”€ faculty.spec.ts
â”‚           â””â”€â”€ alumni.spec.ts
â”‚
â”œâ”€â”€ ðŸ“ scripts/                           # **AUTOMATION & UTILITIES**
â”‚   â”œâ”€â”€ ðŸ“„ README.md
â”‚   â”‚
â”‚   â”œâ”€â”€ ðŸ“ scraping/
â”‚   â”‚   â”œâ”€â”€ ðŸ“„ README.md                  # How to scrape current site
â”‚   â”‚   â”œâ”€â”€ scrape_current_site.py        # Main scraper
â”‚   â”‚   â”œâ”€â”€ faculty_parser.py             # Faculty-specific
â”‚   â”‚   â”œâ”€â”€ asset_downloader.py           # Download images
â”‚   â”‚   â”œâ”€â”€ validate_data.py              # Data validation
â”‚   â”‚   â”œâ”€â”€ requirements.txt              # Python dependencies
â”‚   â”‚   â””â”€â”€ ðŸ“ output/                    # Scraped data
â”‚   â”‚       â”œâ”€â”€ faculty.json
â”‚   â”‚       â”œâ”€â”€ staff.json
â”‚   â”‚       â””â”€â”€ ðŸ“ images/
â”‚   â”‚
â”‚   â”œâ”€â”€ ðŸ“ migration/
â”‚   â”‚   â”œâ”€â”€ ðŸ“„ README.md                  # Migration guide
â”‚   â”‚   â”œâ”€â”€ import_to_strapi.js           # Import scraped data to Strapi
â”‚   â”‚   â”œâ”€â”€ import_images.js              # Upload images to Cloudinary
â”‚   â”‚   â”œâ”€â”€ create_research_areas.js      # Seed research areas
â”‚   â”‚   â”œâ”€â”€ create_users.js               # Create admin users
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ ðŸ“ maintenance/
â”‚   â”‚   â”œâ”€â”€ ðŸ“„ README.md
â”‚   â”‚   â”œâ”€â”€ check_broken_links.js         # Find broken links
â”‚   â”‚   â”œâ”€â”€ optimize_images.sh            # Compress images
â”‚   â”‚   â”œâ”€â”€ backup_database.sh            # Database backup
â”‚   â”‚   â”œâ”€â”€ clean_old_data.js             # Archive old events/news
â”‚   â”‚   â””â”€â”€ generate_sitemap.js           # Generate sitemap.xml
â”‚   â”‚
â”‚   â”œâ”€â”€ ðŸ“ deployment/
â”‚   â”‚   â”œâ”€â”€ ðŸ“„ README.md
â”‚   â”‚   â”œâ”€â”€ deploy.sh                     # Deployment script
â”‚   â”‚   â”œâ”€â”€ rollback.sh                   # Rollback script
â”‚   â”‚   â”œâ”€â”€ health_check.sh               # Post-deploy checks
â”‚   â”‚   â””â”€â”€ setup_env.sh                  # Environment setup
â”‚   â”‚
â”‚   â””â”€â”€ ðŸ“ analytics/
â”‚       â”œâ”€â”€ generate_report.js            # Monthly analytics report
â”‚       â””â”€â”€ export_data.js                # Data export for analysis
â”‚
â”œâ”€â”€ ðŸ“ infrastructure/                    # **DEVOPS**
â”‚   â”œâ”€â”€ ðŸ“„ README.md
â”‚   â”‚
â”‚   â”œâ”€â”€ ðŸ“ docker/
â”‚   â”‚   â”œâ”€â”€ Dockerfile.frontend
â”‚   â”‚   â”œâ”€â”€ Dockerfile.backend
â”‚   â”‚   â”œâ”€â”€ docker-compose.yml            # Local dev stack
â”‚   â”‚   â””â”€â”€ docker-compose.prod.yml       # Production config
â”‚   â”‚
â”‚   â”œâ”€â”€ ðŸ“ nginx/
â”‚   â”‚   â”œâ”€â”€ nginx.conf
â”‚   â”‚   â””â”€â”€ ssl/
â”‚   â”‚
â”‚   â””â”€â”€ ðŸ“ monitoring/
â”‚       â”œâ”€â”€ uptime-robot.json             # Uptime monitoring config
â”‚       â”œâ”€â”€ sentry.config.js              # Error tracking
â”‚       â””â”€â”€ google-analytics.json         # GA4 setup
â”‚
â”œâ”€â”€ ðŸ“ data/                              # **TEMPORARY DATA STORAGE**
â”‚   â”œâ”€â”€ ðŸ“ scraped/                       # Raw scraped data (gitignored)
â”‚   â”œâ”€â”€ ðŸ“ exports/                       # Data exports (gitignored)
â”‚   â””â”€â”€ ðŸ“ backups/                       # Database backups (gitignored)
â”‚
â””â”€â”€ ðŸ“ .github/                           # **CI/CD & GITHUB ACTIONS**
    â”œâ”€â”€ ðŸ“ workflows/
    â”‚   â”œâ”€â”€ frontend-tests.yml
    â”‚   â”œâ”€â”€ backend-tests.yml
    â”‚   â”œâ”€â”€ lighthouse.yml
    â”‚   â”œâ”€â”€ deploy-staging.yml
    â”‚   â””â”€â”€ deploy-production.yml
    â”œâ”€â”€ ðŸ“ ISSUE_TEMPLATE/
    â”‚   â”œâ”€â”€ bug_report.md
    â”‚   â”œâ”€â”€ feature_request.md
    â”‚   â””â”€â”€ content_update.md
    â””â”€â”€ ðŸ“ PULL_REQUEST_TEMPLATE/
        â””â”€â”€ pull_request_template.md
```

---

## Critical Files: Detailed Breakdown

### ðŸ“„ PROJECT_CONTEXT.md (Root Level)

**Purpose:** Single source of truth for ANY Claude Code session

```markdown
# EEMB Website - Project Context
**Last Updated:** [Date]
**Current Phase:** [e.g., Week 5: News & Events]
**Last Completed:** [e.g., Faculty directory with 42 profiles]

---

## Quick Start (for new Claude session)

1. **Tech Stack:**
   - Backend: Strapi 4.x + PostgreSQL (Railway)
   - Frontend: Next.js 14 + TypeScript + Tailwind (Vercel)
   - Media: Cloudinary CDN
   - Database: PostgreSQL on Supabase

2. **Key URLs:**
   - Strapi Admin: https://cms.eemb.ucsb.edu/admin
   - API: https://cms.eemb.ucsb.edu/api
   - Frontend Staging: https://staging.eemb.ucsb.edu
   - Production: https://eemb.ucsb.edu

3. **Repository Structure:**
   - /backend: Strapi CMS
   - /frontend: Next.js app
   - /scripts: Automation
   - /docs: All documentation

4. **Current Sprint:** [Week X]
   - Goal: [specific deliverable]
   - Status: [in progress / blocked / complete]
   - Next task: [specific next step]

---

## Content Types (Strapi)

### Faculty
- Fields: [list key fields]
- Relations: researchAreas (many-to-many), advisedStudents (one-to-many)
- API: /api/faculty?populate=*

### Alumni (NEW - Critical Feature)
- Fields: [list]
- Privacy: visibility enum (public, alumni-only, private)
- Spotlights: separate content type

[... continue for all content types]

---

## Frontend Routes

- Homepage: /app/page.tsx
- Faculty Directory: /app/people/faculty/page.tsx
- Individual Faculty: /app/people/faculty/[slug]/page.tsx
- Alumni Directory: /app/people/alumni/page.tsx
- Alumni Spotlights: /app/people/alumni/spotlights/page.tsx

[... continue for all routes]

---

## Key Components

### Cards
- FacultyCard: /src/components/cards/FacultyCard.tsx
- AlumniCard: /src/components/cards/AlumniCard.tsx
- NewsCard: /src/components/cards/NewsCard.tsx

[... continue]

---

## Data Flow

```
User Request â†’ Next.js Page â†’ API Client (lib/api.ts) â†’ Strapi API
            â†’ PostgreSQL â†’ Response â†’ TypeScript Interface â†’ Component â†’ Render
```

---

## Design Tokens

Colors:
- Navy: #003660
- Gold: #FEBC11
- Ocean Blue: #4A9EC6

Typography:
- Headings: Inter (font-heading)
- Body: Open Sans (font-sans)

Spacing: 8px base unit

---

## Common Commands

```bash
# Backend
cd backend
npm run develop        # Start Strapi dev server (localhost:1337)
npm run build          # Build for production
npm run strapi         # Strapi CLI commands

# Frontend
cd frontend
npm run dev            # Start Next.js dev (localhost:3000)
npm run build          # Build static site
npm run lint           # Lint code
npm run test           # Run tests

# Scripts
python scripts/scraping/scrape_current_site.py
node scripts/migration/import_to_strapi.js

# Testing
npm run test:unit      # Unit tests
npm run test:e2e       # E2E tests
npm run lighthouse     # Performance audit
```

---

## Environment Variables

### Backend (.env)
```
DATABASE_URL=postgresql://...
CLOUDINARY_NAME=...
CLOUDINARY_KEY=...
CLOUDINARY_SECRET=...
ADMIN_JWT_SECRET=...
API_TOKEN_SALT=...
```

### Frontend (.env.local)
```
NEXT_PUBLIC_API_URL=https://cms.eemb.ucsb.edu/api
NEXT_PUBLIC_SITE_URL=https://eemb.ucsb.edu
```

---

## Current Status (Update This!)

### Completed
âœ… Week 1: Strapi setup, Faculty content type
âœ… Week 2: Alumni content type, News, Events
âœ… Week 3: Permissions, API testing
âœ… Week 4: Next.js setup, Design system, Homepage
âœ… Week 5: Faculty directory, Individual profiles
âœ… Week 6: Alumni directory, Spotlights (NEW)

### In Progress
ðŸ”„ Week 7: Research & Programs pages

### Pending
â³ Week 8: Admin dashboard enhancements
â³ Week 9: Documentation & training
â³ Week 10: Testing & QA
â³ Week 11: Legal compliance
â³ Week 12: Deployment

### Blockers
ðŸš« [None currently / list any blockers]

---

## Key Decisions Made

1. **CMS Choice:** Strapi (not WordPress) for API-first, flexibility
2. **Database:** PostgreSQL (not MongoDB) for relational integrity
3. **Alumni Feature:** Full directory + spotlights (new requirement)
4. **Static Export:** Next.js static generation (not SSR) for performance
5. **Media:** Cloudinary (not S3) for auto-optimization

---

## Important Conventions

### Naming
- Files: kebab-case (faculty-card.tsx)
- Components: PascalCase (FacultyCard)
- Functions: camelCase (getFaculty)
- CSS classes: Tailwind utility-first

### Git Commits
Format: `[scope] description`
Examples:
- `[backend] Add Alumni content type`
- `[frontend] Create FacultyCard component`
- `[docs] Update admin handbook`
- `[scripts] Add image optimization script`

### TypeScript
- Strict mode enabled
- Explicit return types for functions
- Interfaces in lib/types.ts

---

## Testing Requirements

- Unit tests for all components
- Integration tests for data fetching
- E2E tests for critical flows (faculty directory, news feed)
- Lighthouse score >90 all categories
- Accessibility: WCAG 2.1 AA compliance

---

## Documentation Links

- Architecture: /docs/architecture/ARCHITECTURE_OVERVIEW.md
- Admin Guide: /docs/admin/ADMIN_HANDBOOK.md
- API Docs: /docs/api/API_REFERENCE.md
- Developer Setup: /docs/developer/SETUP_GUIDE.md

---

## Key Contacts

- Project Lead: [Chair name]
- Content Manager: Andi [email]
- DEI Co-Chairs: Deron & Cherie
- Technical Support: [UCSB IT contact]

---

## Next Session TODO

1. [Specific next task]
2. [Another task]
3. [Validation step]

---

**How to use this file:**
1. Read top to bottom at start of EVERY Claude session
2. Update "Current Status" section after completing work
3. Add any new decisions to "Key Decisions Made"
4. Update "Next Session TODO" before ending session
5. Commit changes to this file WITH your code changes
```

---

### ðŸ“„ README.md Files (Every Directory)

**Root /README.md:**
```markdown
# EEMB UCSB Website

Modern, accessible, UC-compliant department website built with Next.js and Strapi CMS.

## Quick Start

### Prerequisites
- Node.js 18+
- PostgreSQL 14+
- Python 3.11+ (for scripts)

### Local Development

1. **Clone repo:**
   ```bash
   git clone [repo-url]
   cd eemb-website
   ```

2. **Backend setup:**
   ```bash
   cd backend
   cp .env.example .env
   # Edit .env with your credentials
   npm install
   npm run develop
   # Visit http://localhost:1337/admin
   # Create admin user
   ```

3. **Frontend setup:**
   ```bash
   cd frontend
   cp .env.local.example .env.local
   # Edit .env.local
   npm install
   npm run dev
   # Visit http://localhost:3000
   ```

4. **Import data (optional):**
   ```bash
   python scripts/scraping/scrape_current_site.py
   node scripts/migration/import_to_strapi.js
   ```

## Repository Structure

- `/backend` - Strapi CMS (API)
- `/frontend` - Next.js app (UI)
- `/scripts` - Automation tools
- `/docs` - All documentation
- `/infrastructure` - DevOps configs

## Key Features

- âœ… Faculty/Staff/Student management
- âœ… Alumni directory & spotlights
- âœ… Good News blog (transformed from emails)
- âœ… Events calendar
- âœ… In Memoriam page
- âœ… Updated DEI section
- âœ… Non-technical CMS admin interface

## Documentation

- **Admin:** [Admin Handbook](/docs/admin/ADMIN_HANDBOOK.md)
- **Developer:** [Setup Guide](/docs/developer/SETUP_GUIDE.md)
- **API:** [API Reference](/docs/api/API_REFERENCE.md)
- **Content:** [Style Guide](/docs/content/CONTENT_STYLE_GUIDE.md)

## Common Tasks

```bash
# Start development
make dev

# Run tests
make test

# Deploy staging
make deploy-staging

# Deploy production
make deploy-production
```

## Tech Stack

- **Backend:** Strapi 4.x, PostgreSQL
- **Frontend:** Next.js 14, TypeScript, Tailwind CSS
- **Hosting:** Vercel (frontend), Railway (backend)
- **Media:** Cloudinary CDN
- **Monitoring:** Sentry, Google Analytics

## Contributing

See [Development Workflow](/docs/developer/DEVELOPMENT_WORKFLOW.md)

## Support

- Technical issues: [GitHub Issues](repo-url/issues)
- Content questions: [Andi's email]
- Emergency: [Phone number]

## License

Â© 2025 UC Regents. Internal use only.
```

**Component /README.md Example:**
```markdown
# Components

Reusable React components for the EEMB website.

## Structure

- `/ui` - Shadcn/ui base components (button, card, dialog, etc.)
- `/layout` - Site-wide layout (Header, Footer, Navigation)
- `/cards` - Content cards (FacultyCard, NewsCard, etc.)
- `/features` - Complex features (FacultyDirectory, SearchBar)
- `/common` - Common utilities (Hero, Pagination, ErrorMessage)
- `/filters` - Filter panels for directories

## Conventions

### Component Structure
```typescript
// FacultyCard.tsx
import { Faculty } from '@/lib/types';

interface FacultyCardProps {
  faculty: Faculty;
  variant?: 'default' | 'compact';
}

export default function FacultyCard({ faculty, variant = 'default' }: FacultyCardProps) {
  return (
    <article className="faculty-card">
      {/* JSX */}
    </article>
  );
}
```

### Styling
- Use Tailwind utility classes
- Add custom CSS only when necessary
- Follow UCSB design system (use theme colors)

### Accessibility
- Use semantic HTML (article, section, nav, etc.)
- Add ARIA labels where needed
- Ensure keyboard navigation
- Include focus indicators

### Testing
Every component should have:
- Unit test (/tests/unit/components/ComponentName.test.tsx)
- Storybook story (if complex)
- Accessibility test (axe)

## Adding New Components

1. Create file in appropriate directory
2. Follow naming convention (PascalCase)
3. Add TypeScript interface for props
4. Write component with proper accessibility
5. Create unit test
6. Update this README
7. Add to component index (if needed)

## Example Components

### FacultyCard
Displays faculty member summary with photo, name, title, research areas.

**Props:**
- `faculty: Faculty` (required)
- `variant?: 'default' | 'compact'`

**Used in:**
- Faculty directory
- Homepage "Meet Our Faculty"
- Research area pages

### NewsCard
Displays news item summary with image, category badge, title, excerpt.

**Props:**
- `newsItem: NewsItem` (required)
- `featured?: boolean`

**Used in:**
- News feed
- Homepage "Good News"
- Faculty profile "Recent News"

[... continue for all major components]
```

---

## Git Workflow & Branching Strategy

### Branch Structure

```
main (production)
  â””â”€â”€ staging (pre-production)
       â””â”€â”€ develop (active development)
            â”œâ”€â”€ feature/faculty-directory
            â”œâ”€â”€ feature/alumni-spotlights
            â”œâ”€â”€ bugfix/navigation-mobile
            â””â”€â”€ hotfix/broken-link-fix
```

### Naming Conventions

```
feature/[description]       # New features
bugfix/[description]        # Bug fixes
hotfix/[description]        # Urgent production fixes
chore/[description]         # Maintenance (deps, configs)
docs/[description]          # Documentation only
```

### Commit Message Format

```
[scope] Brief description (50 chars max)

More detailed explanation if needed (wrap at 72 chars).
- Bullet points okay
- Explain WHY, not just WHAT

Closes #123 (if applicable)
```

**Examples:**
```
[backend] Add Alumni content type with privacy controls

Implements new Alumni content type with fields for degree,
graduation year, current position, and privacy settings.
Includes visibility enum (public/alumni-only/private) for
CCPA compliance.

Related to #45
```

```
[frontend] Create AlumniCard component

Displays alumni summary with photo, degree, year, and current
position. Respects privacy settings (only shows email if
allowPublicContact = true).
```

### Pull Request Process

1. **Create PR with template:**
   - Description of changes
   - Testing performed
   - Screenshots (for UI changes)
   - Checklist (tests pass, docs updated, etc.)

2. **Review requirements:**
   - Code review (1 approval)
   - Tests pass (CI/CD)
   - Lighthouse score maintained (>90)
   - Accessibility check passed

3. **Merge strategy:**
   - Squash and merge (keep history clean)
   - Delete branch after merge

---

## Development Workflow for Claude Code Sessions

### Starting a New Session

```bash
# 1. Pull latest
git checkout develop
git pull origin develop

# 2. Create feature branch
git checkout -b feature/[description]

# 3. Read project context
cat PROJECT_CONTEXT.md
# Paste into Claude Code

# 4. Start development servers
make dev
# OR
cd backend && npm run develop &
cd frontend && npm run dev &
```

### During Development

```markdown
**Claude Prompt Template:**

Working on: [feature name]
Current file: [path]
Goal: [specific deliverable]

Context:
- Tech stack: [from PROJECT_CONTEXT]
- Related components: [list]
- Data model: [relevant schema]

Task:
[Specific, actionable request with requirements]

Please:
1. [First step]
2. [Second step]
3. [Validation step]
```

### Ending a Session

```bash
# 1. Run tests
npm run test
npm run lint

# 2. Commit changes
git add .
git commit -m "[scope] Description"

# 3. Update PROJECT_CONTEXT.md
# Update "Current Status" section
# Update "Next Session TODO"
git add PROJECT_CONTEXT.md
git commit -m "[docs] Update project context"

# 4. Push to remote
git push origin feature/[description]

# 5. Create PR (if ready)
# Go to GitHub, create PR with template
```

---

## Testing Strategy

### Unit Tests (Fast, Isolated)

**File: `/frontend/tests/unit/components/FacultyCard.test.tsx`**
```typescript
import { render, screen } from '@testing-library/react';
import FacultyCard from '@/components/cards/FacultyCard';
import { Faculty } from '@/lib/types';

describe('FacultyCard', () => {
  const mockFaculty: Faculty = {
    slug: 'smith-jane',
    firstName: 'Jane',
    lastName: 'Smith',
    title: 'Associate Professor',
    email: 'jsmith@ucsb.edu',
    photoUrl: '/images/faculty/smith-jane.jpg',
    bioShort: 'Studies coral reefs',
    researchAreas: ['ecology', 'marine-biology']
  };

  it('renders without crashing', () => {
    render(<FacultyCard faculty={mockFaculty} />);
  });

  it('displays faculty name', () => {
    render(<FacultyCard faculty={mockFaculty} />);
    expect(screen.getByText('Jane Smith')).toBeInTheDocument();
  });

  it('shows title', () => {
    render(<FacultyCard faculty={mockFaculty} />);
    expect(screen.getByText('Associate Professor')).toBeInTheDocument();
  });

  it('displays research area badges', () => {
    render(<FacultyCard faculty={mockFaculty} />);
    expect(screen.getByText(/ecology/i)).toBeInTheDocument();
    expect(screen.getByText(/marine biology/i)).toBeInTheDocument();
  });

  it('links to profile page', () => {
    render(<FacultyCard faculty={mockFaculty} />);
    const link = screen.getByRole('link');
    expect(link).toHaveAttribute('href', '/people/faculty/smith-jane');
  });

  it('displays photo with alt text', () => {
    render(<FacultyCard faculty={mockFaculty} />);
    const img = screen.getByRole('img');
    expect(img).toHaveAttribute('src', expect.stringContaining('smith-jane'));
    expect(img).toHaveAttribute('alt');
  });
});
```

**Run:**
```bash
npm run test:unit
# or watch mode:
npm run test:unit -- --watch
```

### Integration Tests (Multiple Components)

**File: `/frontend/tests/integration/faculty-directory.test.tsx`**
```typescript
import { render, screen, waitFor } from '@testing-library/react';
import userEvent from '@testing-library/user-event';
import FacultyDirectoryPage from '@/app/people/faculty/page';

// Mock API
jest.mock('@/lib/api', () => ({
  getFaculty: jest.fn(() => Promise.resolve([
    { slug: 'smith-jane', firstName: 'Jane', lastName: 'Smith', ... },
    { slug: 'doe-john', firstName: 'John', lastName: 'Doe', ... }
  ]))
}));

describe('Faculty Directory', () => {
  it('loads and displays faculty', async () => {
    render(<FacultyDirectoryPage />);

    await waitFor(() => {
      expect(screen.getByText('Jane Smith')).toBeInTheDocument();
      expect(screen.getByText('John Doe')).toBeInTheDocument();
    });
  });

  it('filters by research area', async () => {
    const user = userEvent.setup();
    render(<FacultyDirectoryPage />);

    // Wait for load
    await waitFor(() => screen.getByText('Jane Smith'));

    // Click ecology filter
    const ecologyCheckbox = screen.getByLabelText(/ecology/i);
    await user.click(ecologyCheckbox);

    // Should show only ecology faculty
    expect(screen.getByText('Jane Smith')).toBeInTheDocument();
    expect(screen.queryByText('John Doe')).not.toBeInTheDocument();
  });

  it('searches by name', async () => {
    const user = userEvent.setup();
    render(<FacultyDirectoryPage />);

    await waitFor(() => screen.getByText('Jane Smith'));

    const searchInput = screen.getByPlaceholderText(/search/i);
    await user.type(searchInput, 'Jane');

    expect(screen.getByText('Jane Smith')).toBeInTheDocument();
    expect(screen.queryByText('John Doe')).not.toBeInTheDocument();
  });
});
```

### E2E Tests (Full User Flows)

**File: `/frontend/tests/e2e/faculty.spec.ts`**
```typescript
import { test, expect } from '@playwright/test';

test.describe('Faculty Directory', () => {
  test('displays faculty and allows navigation', async ({ page }) => {
    // Go to faculty directory
    await page.goto('/people/faculty');

    // Check page loaded
    await expect(page.locator('h1')).toContainText('Faculty');

    // Should see faculty cards
    const facultyCards = page.locator('[data-testid="faculty-card"]');
    await expect(facultyCards).toHaveCount(await facultyCards.count());

    // Click first faculty card
    await facultyCards.first().click();

    // Should navigate to individual page
    await expect(page).toHaveURL(/\/people\/faculty\/[a-z-]+/);

    // Should see faculty details
    await expect(page.locator('[data-testid="faculty-name"]')).toBeVisible();
    await expect(page.locator('[data-testid="faculty-bio"]')).toBeVisible();
  });

  test('filters work correctly', async ({ page }) => {
    await page.goto('/people/faculty');

    // Count initial faculty
    const initialCount = await page.locator('[data-testid="faculty-card"]').count();

    // Click ecology filter
    await page.click('text=Ecology');

    // Count should change
    const filteredCount = await page.locator('[data-testid="faculty-card"]').count();
    expect(filteredCount).toBeLessThan(initialCount);
  });

  test('is accessible', async ({ page }) => {
    await page.goto('/people/faculty');

    // Run axe accessibility scan
    const accessibilityScanResults = await page.evaluate(() => {
      // @ts-ignore
      return axe.run();
    });

    expect(accessibilityScanResults.violations).toEqual([]);
  });
});
```

**Run:**
```bash
npx playwright test
# with UI:
npx playwright test --ui
```

### Performance Tests (Lighthouse)

**Script: `/scripts/maintenance/lighthouse.js`**
```javascript
const lighthouse = require('lighthouse');
const chromeLauncher = require('chrome-launcher');

async function runLighthouse(url) {
  const chrome = await chromeLauncher.launch({chromeFlags: ['--headless']});

  const options = {
    logLevel: 'info',
    output: 'html',
    port: chrome.port
  };

  const runnerResult = await lighthouse(url, options);

  // Report scores
  const scores = runnerResult.lhr.categories;
  console.log('Performance:', scores.performance.score * 100);
  console.log('Accessibility:', scores.accessibility.score * 100);
  console.log('Best Practices:', scores['best-practices'].score * 100);
  console.log('SEO:', scores.seo.score * 100);

  // Fail if any score < 90
  const allScoresAbove90 = Object.values(scores).every(cat => cat.score >= 0.9);

  await chrome.kill();

  return allScoresAbove90;
}

// Test multiple pages
const pages = [
  'http://localhost:3000',
  'http://localhost:3000/people/faculty',
  'http://localhost:3000/people/alumni',
  'http://localhost:3000/news'
];

(async () => {
  for (const page of pages) {
    console.log(`\nTesting: ${page}`);
    const passed = await runLighthouse(page);
    if (!passed) {
      console.error(`âŒ Failed: ${page}`);
      process.exit(1);
    }
    console.log(`âœ… Passed: ${page}`);
  }
})();
```

**Run:**
```bash
node scripts/maintenance/lighthouse.js
```

---

## Deployment Pipeline

### CI/CD Workflow (GitHub Actions)

**File: `.github/workflows/frontend-tests.yml`**
```yaml
name: Frontend Tests

on:
  push:
    branches: [develop, staging, main]
    paths:
      - 'frontend/**'
  pull_request:
    branches: [develop, staging, main]

jobs:
  test:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'

      - name: Install dependencies
        working-directory: ./frontend
        run: npm ci

      - name: Lint
        working-directory: ./frontend
        run: npm run lint

      - name: Type check
        working-directory: ./frontend
        run: npm run type-check

      - name: Unit tests
        working-directory: ./frontend
        run: npm run test:unit

      - name: Build
        working-directory: ./frontend
        run: npm run build
        env:
          NEXT_PUBLIC_API_URL: ${{ secrets.API_URL_STAGING }}

      - name: E2E tests
        working-directory: ./frontend
        run: npx playwright install && npm run test:e2e

      - name: Lighthouse CI
        uses: treosh/lighthouse-ci-action@v9
        with:
          urls: |
            http://localhost:3000
            http://localhost:3000/people/faculty
          uploadArtifacts: true
          temporaryPublicStorage: true
```

**Deployment script: `scripts/deployment/deploy.sh`**
```bash
#!/bin/bash
set -e

ENV=$1  # staging or production

if [ "$ENV" != "staging" ] && [ "$ENV" != "production" ]; then
  echo "Usage: ./deploy.sh [staging|production]"
  exit 1
fi

echo "ðŸš€ Deploying to $ENV..."

# Backend deployment
echo "ðŸ“¦ Deploying backend..."
cd backend
git push $ENV main
echo "âœ… Backend deployed"

# Wait for backend to be healthy
echo "â³ Waiting for backend health check..."
sleep 30
curl -f https://cms-$ENV.eemb.ucsb.edu/api || exit 1

# Frontend deployment
echo "ðŸ“¦ Deploying frontend..."
cd ../frontend
if [ "$ENV" = "staging" ]; then
  vercel --env staging
else
  vercel --prod
fi
echo "âœ… Frontend deployed"

# Run smoke tests
echo "ðŸ§ª Running smoke tests..."
curl -f https://$ENV.eemb.ucsb.edu || exit 1
curl -f https://$ENV.eemb.ucsb.edu/people/faculty || exit 1
curl -f https://$ENV.eemb.ucsb.edu/news || exit 1

# Notify
echo "âœ… Deployment to $ENV complete!"
echo "ðŸŒ Visit: https://$ENV.eemb.ucsb.edu"
```

---

## Maintenance Schedule

### Daily (Automated)
- âœ… Database backups (3am PST)
- âœ… Uptime monitoring (every 5 min)
- âœ… Error logging (Sentry)
- âœ… Analytics collection

### Weekly (Manual, 15 min)
- âœ… Review form submissions (Good News, Contact, Alumni)
- âœ… Check broken links report
- âœ… Review analytics (top pages, traffic sources)
- âœ… Update event calendar

### Monthly (Manual, 1-2 hours)
- âœ… Content audit (faculty changes, news posts)
- âœ… Review alumni submissions
- âœ… Update giving data
- âœ… Check all external links
- âœ… Review security logs
- âœ… Update dependencies (npm audit)

### Quarterly (Manual, Half day)
- âœ… Comprehensive content review
- âœ… User feedback survey
- âœ… Accessibility audit (WAVE, axe)
- âœ… Performance optimization
- âœ… Security update review
- âœ… Generate quarterly digest (Good News)

### Annually (Manual, 1-2 days)
- âœ… Major content refresh
- âœ… Faculty photo updates
- âœ… In Memoriam review
- âœ… Technology stack updates
- âœ… Security audit (professional if budget allows)
- âœ… Design refresh (minor tweaks)
- âœ… Training refresher for staff
- âœ… Review legal compliance (privacy policy, accessibility)

---

## Emergency Procedures

### Website Down

**Symptoms:**
- eemb.ucsb.edu not loading
- 500 errors
- Database connection errors

**Immediate Actions:**
1. Check status pages:
   - Vercel: status.vercel.com
   - Railway: status.railway.app
   - Cloudinary: status.cloudinary.com

2. Check monitoring:
   - Uptime Robot dashboard
   - Sentry error logs

3. Quick fixes:
   - Restart backend: `railway restart`
   - Redeploy frontend: `vercel --prod`
   - Clear CDN cache (if stale)

4. If persists:
   - Contact UCSB IT
   - Check database (Supabase dashboard)
   - Review recent deployments (rollback if needed)

### Security Incident

**If suspected data breach or hack:**
1. **DO NOT PANIC**
2. Immediately contact:
   - UCSB IT Security: [phone]
   - Project lead: [phone]
3. Document everything:
   - What was accessed
   - When detected
   - What actions taken
4. Follow UC incident response protocol
5. Review audit logs
6. Change all passwords
7. Review access permissions

### Data Loss

**If content deleted or corrupted:**
1. Check Git history (for code)
2. Restore from database backup:
   ```bash
   # List backups
   ls -lh data/backups/

   # Restore latest
   ./scripts/maintenance/restore_backup.sh latest
   ```
3. Contact database provider (Supabase has point-in-time recovery)
4. Review audit logs to see who/what deleted data
5. Implement safeguards to prevent recurrence

---

## Final Checklist: Ready for Long-Term Success

### âœ… Technical Foundation
- [ ] Backend (Strapi) deployed and accessible
- [ ] Frontend (Next.js) deployed and fast
- [ ] Database (PostgreSQL) backed up daily
- [ ] Media (Cloudinary) properly configured
- [ ] Monitoring (Sentry, Analytics) active

### âœ… Content Management
- [ ] All content types created and tested
- [ ] Admin users created with correct permissions
- [ ] Training completed for content managers
- [ ] Documentation accessible and clear
- [ ] Monthly maintenance schedule established

### âœ… Quality Assurance
- [ ] All pages tested across browsers/devices
- [ ] Accessibility audit passed (WCAG 2.1 AA)
- [ ] Performance tests passing (Lighthouse >90)
- [ ] Security scan clean (no critical vulnerabilities)
- [ ] Legal compliance verified (privacy, accessibility statements)

### âœ… Documentation
- [ ] PROJECT_CONTEXT.md up to date
- [ ] Admin Handbook complete with screenshots
- [ ] Developer setup guide clear
- [ ] API documentation comprehensive
- [ ] Video tutorials recorded and accessible

### âœ… Operational Readiness
- [ ] Backup/restore tested
- [ ] Rollback procedure documented and tested
- [ ] Emergency contacts established
- [ ] Support ticket system in place
- [ ] Handoff to ongoing maintainer complete

---

## Success: You Built an Enterprise-Grade Website

**What you've achieved:**
âœ… Non-technical users can manage all content
âœ… Alumni engagement platform drives giving
âœ… Database flexible for 10+ year growth
âœ… Legal/accessibility compliant
âœ… Beautiful, performant, modern UX
âœ… Long-term sustainable architecture
âœ… Comprehensive documentation
âœ… Training & support in place

**This repository structure ensures:**
- ANY developer (or Claude session) can pick up where you left off
- Clear organization prevents confusion
- Documentation at every level
- Testing catches regressions
- Deployment is reliable and repeatable
- Maintenance is manageable

**You're ready for years of success. ðŸŽ‰**
